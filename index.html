<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Board Meeting Assist App</title>

  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      background: orange;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .card {
      background: white;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
      max-width: 700px;
      width: 95%;
    }

    h1, h2 {
      text-align: center;
      margin: 10px 0;
    }

    img {
      width: 100%;
      max-height: 260px;
      object-fit: cover;
      border-radius: 12px;
      margin: 15px 0;
    }

    textarea {
      width: 100%;
      min-height: 150px;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 14px;
    }

    input[type="text"] {
      width: 100%;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid #ccc;
      margin-top: 10px;
    }

    button {
      padding: 10px 18px;
      border: none;
      border-radius: 10px;
      background: #2563eb;
      color: white;
      font-weight: bold;
      cursor: pointer;
      margin: 5px;
    }

    button:hover {
      background: #1d4ed8;
    }

    .nav {
      display: flex;
      justify-content: space-between;
      margin-top: 15px;
      flex-wrap: wrap;
    }

    .progress {
      height: 10px;
      background: #e5e7eb;
      border-radius: 10px;
      margin: 15px 0;
      overflow: hidden;
    }

    .bar {
      height: 10px;
      background: #16a34a;
      width: 0%;
    }

    .center { text-align: center; }
  </style>
</head>
<body>

  <div class="card" id="app"></div>

  <script>
    const questions = [
      "Is our mission still relevant in this market?",
      "What systemic risk are we blind to right now?",
      "What’s our burn rate for innovation?",
      "Which key person could we lose — and would we survive it?",
      "How are we protecting the brand when no one’s watching?",
      "What would destroy trust with our customers overnight?",
      "Are we too reliant on a single revenue stream?",
      "What would this company look like with zero bureaucracy?",
      "How are we building moats, not just walls?",
      "If we keep doing what we’re doing, will we still be alive in 5 years?"
    ];

    let step = 0;
    let answers = Array(questions.length).fill("");
    let user = "";
    
    const meetingDate = new Date().toLocaleString();

    const app = document.getElementById("app");

    function renderHome() {
      app.innerHTML = `
        <h1>PutaiaoTech Assist Product</h1>
        <h2>Board Meetings – Assist App</h2>

        <img src="board-meeting-image.jpg" alt="Board Meeting" />

        <p class="center">
          Strategic governance questioning, risk tracking, and board intelligence capture.
        </p>

        <input
          type="text"
          placeholder="Enter Board Member / Trustee Name"
          oninput="user=this.value"
        />

        

        <div class="center">
          <button onclick="startSession()">Start Board Session</button>
        </div>
      `;
    }

    function startSession() {
      if (!user) {
        alert("Please enter your name");
        return;
      }
      renderQuestion();
    }

    function renderQuestion() {
      const progress = ((step + 1) / questions.length) * 100;

      app.innerHTML = `
        <h2>Board Meeting Assist App</h2>
        <p class="center">${meetingDate}</p>

        <div class="progress">
          <div class="bar" style="width:${progress}%"></div>
        </div>

        <h3>Question ${step + 1} of ${questions.length}</h3>
        <p>${questions[step]}</p>

        <textarea
          onchange="answers[${step}] = this.value"
        >${answers[step]}</textarea>

        <div class="nav">
          <button onclick="prev()" ${step===0?"disabled":""}>Back</button>

          ${step < questions.length-1
            ? `<button onclick="next()">Next</button>`
            : `<div>
                <button onclick="saveJSON()">Save JSON</button>
                <button onclick="saveTXT()">Save TXT</button>
                <button onclick="emailMinutes()">Email</button>
               </div>`}
        </div>
      `;
    }

    function next(){ step++; renderQuestion(); }
    function prev(){ step--; renderQuestion(); }

    function buildText(){
      let text = `PutaiaoTech Assist – Board Meetings\n`;
      text += `User: ${user}\nDate: ${meetingDate}\n`;
      

      questions.forEach((q,i)=>{
        text += `${i+1}. ${q}\n${answers[i]||"No response"}\n\n`;
      });

      return text;
    }

    function saveJSON(){
      const blob = new Blob([JSON.stringify({user,meetingDate,answers},null,2)],{type:"application/json"});
      const a=document.createElement("a");
      a.href=URL.createObjectURL(blob);
      a.download="board-meeting-notes.json";
      a.click();
    }

    function saveTXT(){
      const blob = new Blob([buildText()],{type:"text/plain"});
      const a=document.createElement("a");
      a.href=URL.createObjectURL(blob);
      a.download="board-meeting-minutes.txt";
      a.click();
    }

    function emailMinutes(){
      window.location.href =
        "mailto:?subject=Board Meeting Minutes&body=" +
        encodeURIComponent(buildText());
    }

    renderHome();
  </script>

</body>
</html>
